<c:FragmentDefinition
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
>
	<Panel backgroundDesign="Transparent">
		<ScrollContainer
			height="100%"
			width="100%"
		>
			<Table
				id="tblSoaFunction"
				mode="{Utility>/TableMode}"
				growing="true"
				items="{
					path: 'ListSoa>/'
				}"
				selectionChange="onSelectedItem"
				fixedLayout="false"
				width="140%"
			>
				<headerToolbar>
					<OverflowToolbar>
						<Title text="Lista SOA"/>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameChiaveSOA}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameDataRegSOA}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameDenBeneficiario}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameRitenuta}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameEnteBeneficiario}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNamePosizioneFinanziaria}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameStruttAmmResp}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameImporto}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameIDAutorizzazione}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
					>
						<header>
							<Text text="{i18n>columnNameTipologiaDisposizione}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{Utility>/EnableCancellazioneRichAnn}"
					>
						<header>
							<Text text="{i18n>labelDataRichAnn}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{Utility>/EnableCancellazioneRichAnn}"
					>
						<header>
							<Text text="{i18n>labelNumRichAnn}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{= ${Utility>/EnableInvioFirma} || ${Utility>/EnableFirma} || ${Utility>/EnableRevocaFirma} ? false : true}"
					>
						<header>
							<Text text="{i18n>columnNameStatoSOA}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{Utility>/EnableInvioFirma}"
					>
						<header>
							<Text text="{i18n>labelNumProtocollo}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{Utility>/EnableInvioFirma}"
					>
						<header>
							<Text text="{i18n>labelDataProtocollo}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{= ${Utility>/EnableFirma} || ${Utility>/EnableRevocaFirma} ? true : false}"
					>
						<header>
							<Text text="{i18n>labelNumProtocollo}"/>
						</header>
					</Column>
					<Column
						minScreenWidth="Desktop"
						demandPopin="true"
						visible="{= ${Utility>/EnableFirma} || ${Utility>/EnableRevocaFirma} ? true : false}"
					>
						<header>
							<Text text="{i18n>labelDataProtocollo}"/>
						</header>
					</Column>
				</columns>
				<items>
					<ColumnListItem vAlign="Middle">
						<cells>
							<Text text="{ListSoa>Zchiavesop}"/>
							<Text text="{
								path: 'ListSoa>Zdatasop',
								type: 'sap.ui.model.type.Date',
								formatOptions: {
									pattern: 'dd.MM.yyyy'
								}
							}"/>
							<Text text="{ListSoa>ZzragSoc}"/>
							<Text text="{ListSoa>Text40}"/>
							<Text
								text="{ListSoa>ZzDescebe}"
								visible="false"
							/>
							<Text text="{ListSoa>Fipos}"/>
							<Text text="{ListSoa>Fistl}"/>
							<Text text="{
								path: 'ListSoa>Zimptot',
								formatter: '.formatter.convertFormattedNumber'
							}"/>
							<Text text="{ListSoa>Zchiaveaut}"/>
							<Text text="{ListSoa>Zdesctipodisp3}"/>
							<Text
								visible="{Utility>/EnableCancellazioneRichAnn}"
								text="{
									path: 'ListSoa>Zdatarichann',
									type: 'sap.ui.model.type.Date',
									formatOptions: {
										pattern: 'dd.MM.yyyy'
									}
								}"
							/>
							<Text
								visible="{Utility>/EnableCancellazioneRichAnn}"
								text="{
									path: 'ListSoa>Zricann',
									formatter: '.formatter.deleteFirstZeros'
								}"
							/>
							<Text text="{ListSoa>DescStateSoa}"/>
							<Input
								value="{
									path: 'ListSoa>Znumprot',
									formatter: '.formatter.deleteFirstZeros'
								}"
								maxLength="7"
								type="Number"
								visible="{Utility>/EnableInvioFirma}"
							/>
							<DatePicker
								visible="{Utility>/EnableInvioFirma}"
								value="{
									path: 'ListSoa>Zdataprot',
									type: 'sap.ui.model.type.Date',
									formatOptions: {
										pattern: 'dd.MM.yyyy'
									}
								}"
							/>
							<Text
								visible="{= ${Utility>/EnableFirma} || ${Utility>/EnableRevocaFirma} ? true : false }"
								text="{
									path: 'ListSoa>Znumprot',
									formatter: '.formatter.deleteFirstZeros'
								}"
							/>
							<Text
								visible="{= ${Utility>/EnableFirma} || ${Utility>/EnableRevocaFirma} ? true : false }"
								text="{
									path: 'ListSoa>Zdataprot',
									type: 'sap.ui.model.type.Date',
									formatOptions: {
										pattern: 'dd.MM.yyyy'
									}
								}"
							/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</ScrollContainer>
	</Panel>
</c:FragmentDefinition>